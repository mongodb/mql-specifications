# $schema: ../../schema.json
name: $last
link: https://www.mongodb.com/docs/manual/reference/operator/aggregation/last/
minVersion: '4.4'
generic:
  - T
type:
  - name: resolvesToAny
    generic: T
encode: single
description: |
  Returns the result of an expression for the last document in an array.
arguments:
  - name: expression
    type:
      - name: resolvesToArray
        generic: T[]
tests:
  - name: Use in $addFields Stage
    pipeline:
      - $addFields:
          lastItem:
            $last: $items
