# $schema: ../../schema.json
name: $toDate
link: https://www.mongodb.com/docs/manual/reference/operator/aggregation/toDate/
minVersion: '4.0'
type:
  - resolvesToDate
encode: single
description: |
  Converts value to a Date.
arguments:
  - name: expression
    type:
      - expression
tests:
  - name: Example
    link: https://www.mongodb.com/docs/manual/reference/operator/aggregation/toDate/#example
    pipeline:
      - $addFields:
          convertedDate:
            $toDate: $order_date
      - $sort:
          convertedDate: 1
    schema:
      orders:
        _id:
          types:
            - bsonType: Number
        item:
          types:
            - bsonType: String
        qty:
          types:
            - bsonType: Number
        price:
          types:
            - bsonType: Number
        order_date:
          types:
            - bsonType: Date
            - bsonType: String
