# $schema: ../../schema.json
name: $first
link: https://www.mongodb.com/docs/manual/reference/operator/aggregation/first/
minVersion: '4.4'
generic:
  - T
type:
  - name: resolvesToAny
    generic: T
encode: single
description: |
  Returns the result of an expression for the first document in an array.
arguments:
  - name: expression
    type:
      - name: resolvesToArray
        generic: T[]
tests:
  - name: Use in $addFields Stage
    pipeline:
      - $addFields:
          firstItem:
            $first: $items
